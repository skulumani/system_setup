# unbind C-b
set -g prefix C-a

# alert to activity
setw -g monitor-activity on
set -g visual-activity on

# highlite current window with yellow
set-window-option -g window-status-current-bg yellow

# mouse select pane
# set-option -g mouse-select-pane on
set -g mouse on
set-window-option mode-keys vi
# set -g mode-mouse on # for older version of tmux

# reload config file (change file location to your the tmux.conf you want to use)
bind r source-file ~/.tmux.conf

# move the current window to the left or right
bind-key S-Left swap-window -t -1
bind-key S-Right swap-window -t +1
# set-option -g history-limit 4000
# ###############################################################################
# # Main/general configuration
# ###############################################################################

# # Change Ctrl-b to Ctrl-a
# unbind C-b
# set -g prefix C-a

# # Copy CLIPBOARD to tmux paste buffer and paste tmux paste buffer
# bind C-S-c run "tmux save-buffer - | xclip -i -selection clipboard"
# bind C-S-v run "tmux set-buffer -- \"$(xclip -o -selection clipboard)\"; tmux paste-buffer"

# # Speed up the escape time
# set -sg escape-time 0

# # Use vim keybindings in copy mode
# set -g mode-keys vi

# # Remap the copy & paste keys to work as in vim
# unbind [
# bind Escape copy-mode
# unbind p
# bind p paste-buffer
# bind -t vi-copy 'v' begin-selection
# bind -t vi-copy 'y' copy-selection

# # Y yanks to system clipboard
# bind -t vi-copy 'Y' copy-pipe 'xclip -in -selection clipboard'

# # For nested tmux, C-a twice to send prefix to nested session
# bind-key C-a send-prefix

# # Fix the ctrl left/right keys for word traversal
# set-window-option -g xterm-keys on
# set -g default-terminal "screen-256color"

# # Fix tmux scrolling
# set -g terminal-overrides 'xterm*:smcup@:rmcup@'

# # [ PREFIX + r ] Reload tmux config
# bind r source-file ~/.tmux.conf \; display 'tmux configs reloaded'

# ###############################################################################
# # Mouse mode configuration
# ###############################################################################

# set -g mouse on
# # Toggle mouse on with ^B m
# bind m \
#   set -g mouse on \;\
#   display 'Mouse: ON'

# # Toggle mouse off with ^B M
# bind M \
#   set -g mouse off \;\
#   display 'Mouse: OFF'

# set -g scroll-speed-num-lines-per-scroll 1
# ###############################################################################
# # Pane configuration
# ###############################################################################

# # Change traversal to hjkl
# bind h select-pane -L
# bind j select-pane -D
# bind k select-pane -U
# bind l select-pane -R

# # Split pane in current directory, but not new windows
# bind v split-window -h -c "#{pane_current_path}"
# bind % split-window -h -c "#{pane_current_path}"
# bind s split-window -c "#{pane_current_path}"
# bind '"' split-window -c "#{pane_current_path}"
# bind c new-window -c "$PWD"

# # Resize panes easily, but not so that you do it accidentally when switching
# bind -r H resize-pane -L 5
# bind -r J resize-pane -D 5
# bind -r K resize-pane -U 5
# bind -r L resize-pane -R 5

# # Smart pane switching with awareness of vim splits
# is_vim='echo "#{pane_current_command}" | grep -iqE "(^|\/)g?(view|n?vim?x?)(diff)?$"'
# bind -n C-h if-shell "$is_vim" "send-keys C-h" "select-pane -L"
# bind -n C-j if-shell "$is_vim" "send-keys C-j" "select-pane -D"
# bind -n C-k if-shell "$is_vim" "send-keys C-k" "select-pane -U"
# bind -n C-l if-shell "$is_vim" "send-keys C-l" "select-pane -R"
# bind -n C-\ if-shell "$is_vim" "send-keys C-\\" "select-pane -l"

# ###############################################################################
# # Window configuration
# ###############################################################################

# # Alt + # window switching
# # Most linux terminal emulators need to be told not to steal alt
# bind-key -n M-1 select-window -t 1
# bind-key -n M-2 select-window -t 2
# bind-key -n M-3 select-window -t 3
# bind-key -n M-4 select-window -t 4
# bind-key -n M-5 select-window -t 5
# bind-key -n M-6 select-window -t 6
# bind-key -n M-7 select-window -t 7
# bind-key -n M-8 select-window -t 8
# bind-key -n M-9 select-window -t 9

# # Automatically renumber windows
# bind R move-window -r;

# # Bind X to kill window, x to kill pane
# bind x confirm kill-pane
# bind X confirm kill-window

# # Start numbering at 1
# set -g base-index 1

# # Window swapping
# bind-key < swap-window -t -
# bind-key > swap-window -t +

# # Automatically renumber windows
# set-option -g renumber-windows on

# ###############################################################################
# # Command Aliases
# ###############################################################################
# bind-key n command-prompt "rename-window %%"

# ###############################################################################
# # Color configuration
# ###############################################################################

# # Status bar colors
# set -g status-bg "#626262"
# set -g status-fg "#d0d0d0"

# # Colors for window list
# set -g window-status-bg "#626262"
# set -g window-status-fg "#d0d0d0"

# # Colors for active window
# set -g window-status-current-bg "#87afaf"
# set -g window-status-current-fg "#3a3a3a"

# # Pane divider color
# set -g pane-active-border-bg default
# set -g pane-active-border-fg "#d68787"
# set -g pane-border-bg default
# set -g pane-border-fg "#e4e4e4"

# ###############################################################################
# # Status Bar configuration
# ###############################################################################

# set -g status-justify left
# set -g status-right-length 200
# set -g status-right "#(tmux-spotify-info) #(headphones-emoji) | #(sound-level) | #{battery_icon}  #{battery_percentage} | #{online_status} | %a %h-%d %H:%M "
# set -g status-interval 1

# ###############################################################################
# # Plugin configuration
# ###############################################################################

# # Custom battery icons
# set -g @batt_charged_icon "üîå"
# set -g @batt_charging_icon "‚ö°"
# set -g @batt_discharging_icon "üîã"
# set -g @batt_attached_icon "‚ö†Ô∏è"

# # Restore tmux and vim session and

# ###############################################################################
# # TPM configuration
# ###############################################################################
# set -g @continuum-restore 'on'
# set -g @resurrect-strategy-vim 'session'

# # Status bar battery info
# set -g @plugin 'tmux-plugins/tmux-battery'
# set -g @plugin 'tmux-plugins/tmux-online-status'
# # Copy yanked text to system clipboard from tmux copy mode
# set -g @plugin 'tmux-plugins/tmux-copycat'
# set -g @plugin 'tmux-plugins/tmux-yank'
# set -g @plugin 'tmux-plugins/tmux-open'
# set -g @plugin 'tmux-plugins/tpm'
# set -g @plugin 'tmux-plugins/tmux-continuum'
# set -g @plugin 'nhdaly/tmux-scroll-copy-mode'

# bind-key -T root PPage if-shell -F "#{alternate_on}" "send-keys PPage" "copy-mode -e; send-keys PPage"
# bind-key -t vi-copy PPage page-up
# bind-key -t vi-copy NPage page-down


# # Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
# run '~/.tmux/plugins/tpm/tpm'

######################
### DESIGN CHANGES ###
######################

# # panes
# set -g pane-border-fg black
# set -g pane-active-border-fg brightred

# ## Status bar design
# # status line
# set -g status-utf8 on
# set -g status-justify left
# set -g status-bg default
# set -g status-fg colour12
# set -g status-interval 2

# # messaging
# set -g message-fg black
# set -g message-bg yellow
# set -g message-command-fg blue
# set -g message-command-bg black

# #window mode
# setw -g mode-bg colour6
# setw -g mode-fg colour0

# # window status
# setw -g window-status-format " #F#I:#W#F "
# setw -g window-status-current-format " #F#I:#W#F "
# setw -g window-status-format "#[fg=magenta]#[bg=black] #I #[bg=cyan]#[fg=colour8] #W "
# setw -g window-status-current-format "#[bg=brightmagenta]#[fg=colour8] #I #[fg=colour8]#[bg=colour14] #W "
# setw -g window-status-current-bg colour0
# setw -g window-status-current-fg colour11
# setw -g window-status-current-attr dim
# setw -g window-status-bg green
# setw -g window-status-fg black
# setw -g window-status-attr reverse

# # Info on left (I don't have a session display for now)
# set -g status-left ''

# # loud or quiet?
# set-option -g visual-activity off
# set-option -g visual-bell off
# set-option -g visual-silence off
# set-window-option -g monitor-activity off
# set-option -g bell-action none

# set -g default-terminal "screen-256color"

# # The modes {
# setw -g clock-mode-colour colour135
# setw -g mode-attr bold
# setw -g mode-fg colour196
# setw -g mode-bg colour238

# # }
# # The panes {

# set -g pane-border-bg colour235
# set -g pane-border-fg colour238
# set -g pane-active-border-bg colour236
# set -g pane-active-border-fg colour51

# # }
# # The statusbar {

# set -g status-position bottom
# set -g status-bg colour234
# set -g status-fg colour137
# set -g status-attr dim
# set -g status-left ''
# set -g status-right '#[fg=colour233,bg=colour241,bold] %d/%m #[fg=colour233,bg=colour245,bold] %H:%M:%S '
# set -g status-right-length 50
# set -g status-left-length 20

# setw -g window-status-current-fg colour81
# setw -g window-status-current-bg colour238
# setw -g window-status-current-attr bold
# setw -g window-status-current-format ' #I#[fg=colour250]:#[fg=colour255]#W#[fg=colour50]#F '

# setw -g window-status-fg colour138
# setw -g window-status-bg colour235
# setw -g window-status-attr none
# setw -g window-status-format ' #I#[fg=colour237]:#[fg=colour250]#W#[fg=colour244]#F '

# setw -g window-status-bell-attr bold
# setw -g window-status-bell-fg colour255
# setw -g window-status-bell-bg colour1

# # }
# # The messages {

# set -g message-attr bold
# set -g message-fg colour232
# set -g message-bg colour166

# # }